/* --- 1. VARIABLES (Requisito SCSS) --- */
$fuente-principal: 'Outfit', sans-serif;
$color-acento: #0dcaf0;  /* Cyan de Bootstrap */
$borde-suave: #e0e0e0;

/* --- 2. FUNCIÓN (Requisito SCSS) --- */
// Función para convertir un número entero (0-100) a decimal (0-1)
@function opacidad-sombra($nivel) {
    @return $nivel / 100;
}

/* --- 3. MIXIN (Requisito SCSS) --- */
// CORRECCIÓN: Ahora acepta un color base y un nivel numérico
@mixin efecto-card($color-base, $nivel-opacidad) {
    transform: translateY(-5px);
    // Usamos rgba pasando el color y llamando a la función para la opacidad
    box-shadow: 0 15px 30px rgba($color-base, opacidad-sombra($nivel-opacidad)) !important; 
    border-color: $color-acento !important;
}

/* --- ESTILOS GENERALES --- */
:root {
    --font-main: #{$fuente-principal};
    --bs-body-font-family: var(--font-main);
    scroll-padding-top: 80px; /* Para que el navbar fixed no tape los títulos */
}

/* Redefinición Modo Claro */
[data-bs-theme="light"] {
    --bs-body-bg: #f4f6f8; 
    --bs-body-color: #4a4a4a;
    --bs-tertiary-bg: #ffffff;
    --bs-secondary-bg: #e9ecef;
    --bs-border-color: #{$borde-suave};

    /* Aplicación del Mixin corregido */
    /* Pasamos color negro (#000000) y nivel de opacidad 15 */
    .hover-card:hover {
        @include efecto-card(#000000, 15); 
    }

    .form-control {
        background-color: #ffffff;
        border-color: #ced4da;
        
        &:focus {
            background-color: #fff;
            box-shadow: 0 0 0 0.25rem rgba($color-acento, 0.15);
        }
    }
}

/* Redefinición Modo Oscuro */
[data-bs-theme="dark"] {
    --bs-body-bg: #121212;
    --bs-body-color: #e0e0e0;
    --bs-tertiary-bg: #1e1e1e;
    --bs-secondary-bg: #2d2d2d;

    /* Aplicación del Mixin en modo oscuro */
    /* Pasamos color negro (#000000) y nivel de opacidad 50 */
    .hover-card:hover {
        @include efecto-card(#000000, 50);
    }
}

/* Clases utilitarias y personalizadas */
.hover-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    border: 1px solid transparent; /* Para evitar saltos al añadir borde */
}

.profile-img {
    object-fit: cover;
    border: 4px solid $color-acento; 
    box-shadow: 0 0 15px rgba($color-acento, 0.4);
}

.required-star { 
    color: var(--bs-danger); 
    margin-left: 3px;
}

/* Clase auxiliar para el scroll */
.scroll-margin-top {
    scroll-margin-top: 100px;
}